<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>ÙŠØ§ Ø¨Ù„Ø§Ø´ - ØªÙˆØµÙŠÙ„</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #fff7f0;
      margin: 0;
      padding: 20px;
    }
    h2 { color: #ff7a00; }
    button {
      background: #ff7a00;
      color: white;
      border: none;
      padding: 10px 15px;
      margin-top: 10px;
      cursor: pointer;
      border-radius: 6px;
    }
    input, select, textarea {
      width: 100%;
      padding: 8px;
      margin-top: 6px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }
    .box {
      background: white;
      padding: 15px;
      border-radius: 10px;
      margin-bottom: 20px;
    }
  </style>
</head>
<body>

<h2>ðŸšš ØªØ·Ø¨ÙŠÙ‚ ÙŠØ§ Ø¨Ù„Ø§Ø´</h2>

<div class="box">
  <label>Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
  <select id="role">
    <option value="customer">Ø²Ø¨ÙˆÙ†</option>
    <option value="driver">Ù…Ù†Ø¯ÙˆØ¨</option>
  </select>
</div>

<div class="box">
  <h3>Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨</h3>
  <input id="orderText" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ø·Ù„Ø¨ Ø£Ùˆ ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªÙˆØµÙŠÙ„">
  <select id="price">
    <option value="Ø£Ù‚Ù„ Ù…Ù† 50">Ø£Ù‚Ù„ Ù…Ù† 50 Ø¯ÙŠÙ†Ø§Ø±</option>
    <option value="50-100">Ø¨ÙŠÙ† 50 Ùˆ100</option>
    <option value="Ø£ÙƒØ«Ø± Ù…Ù† 100">Ø£ÙƒØ«Ø± Ù…Ù† 100 Ø¯ÙŠÙ†Ø§Ø±</option>
  </select>
  <select id="payment">
    <option value="ÙƒØ§Ø´">ÙƒØ§Ø´</option>
    <option value="ØªØ­ÙˆÙŠÙ„">ØªØ­ÙˆÙŠÙ„</option>
  </select>
  <button onclick="sendOrder()">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ ðŸ”Š</button>
</div>

<div class="box">
  <h3>ðŸ“¦ Ø§Ù„Ø·Ù„Ø¨Ø§Øª (Ù„Ù„Ù…Ù†Ø¯ÙˆØ¨)</h3>
  <ul id="orders"></ul>
</div>

<!-- Firebase -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getFirestore, collection, addDoc, onSnapshot } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyDY9hKoNOaRnUSFzijVtafY2qcb-8pPgAs",
    authDomain: "yabalash-ed0c1.firebaseapp.com",
    projectId: "yabalash-ed0c1",
    storageBucket: "yabalash-ed0c1.firebasestorage.app",
    messagingSenderId: "881656538937",
    appId: "1:881656538937:web:66f7604e638b80427aaae8"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  window.sendOrder = async function () {
    const order = document.getElementById("orderText").value;
    const price = document.getElementById("price").value;
    const payment = document.getElementById("payment").value;
    const role = document.getElementById("role").value;

    if (!order) return alert("Ø§ÙƒØªØ¨ Ø§Ù„Ø·Ù„Ø¨");

    await addDoc(collection(db, "orders"), {
      order,
      price,
      payment,
      role,
      status: "Ø¬Ø¯ÙŠØ¯",
      time: Date.now()
    });

    new Audio("https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg").play();
    document.getElementById("orderText").value = "";
  };

  const list = document.getElementById("orders");
  onSnapshot(collection(db, "orders"), (snap) => {
    list.innerHTML = "";
    snap.forEach(doc => {
      const d = doc.data();
      const li = document.createElement("li");
      li.textContent = `${d.order} - ${d.price} - ${d.payment}`;
      list.appendChild(li);
    });
  });
</script>

</body>
</html>
